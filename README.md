# Python包管理器

一个简单易用的Python包管理工具，支持多环境管理、镜像源切换等功能。

## 功能特点

- 多环境管理：创建、导入、删除Python虚拟环境
- 包管理：安装、卸载、更新Python包
- 镜像源管理：切换、添加、删除、测速
- 代理设置：支持HTTP/HTTPS代理
- 主题定制：支持自定义界面主题
- 配置管理：统一的配置管理，自动保存用户设置

## 版本历史

### v1.0.2 (2025-04-27)
- 优化配置文件存储机制
  - 统一配置文件存储位置到系统用户目录
  - 分类存储不同类型的配置
  - 改进配置文件的读写和同步机制
- 完善错误处理和日志记录
- 优化用户界面初始化流程
- 修复已知问题

### v1.0.1
- 添加镜像源测速功能
- 优化包安装和更新流程
- 修复部分UI显示问题

### v1.0.0
- 首次发布
- 基本的包管理功能
- 环境管理功能
- 镜像源管理功能

## 配置文件说明

配置文件存储位置：
- Windows: `%APPDATA%\PipManager\config\`
- Linux/Mac: `~/.pipmanager/config/`

主要配置文件：
1. `settings.json` - 基本设置
   - 窗口设置（大小、位置）
   - 通用设置（语言、更新等）
   - 包管理相关设置
2. `proxy.json` - 代理设置
3. `mirror.json` - 镜像源设置
4. `theme.json` - 主题设置

## 使用说明

1. 环境管理
   - 点击"环境"按钮创建或导入环境
   - 在环境列表中选择要操作的环境

2. 包管理
   - 选择环境后可以进行包的安装、卸载、更新操作
   - 支持导入/导出requirements.txt

3. 镜像源管理
   - 可以添加自定义镜像源
   - 支持镜像源速度测试
   - 提供常用国内镜像源

4. 设置
   - 代理设置：配置HTTP/HTTPS代理
   - 主题设置：自定义界面外观

## 系统要求

- Windows 10或更高版本
- Python 3.6+
- PyQt5
- 其他依赖见requirements.txt

## 安装说明

1. 直接运行
   ```bash
   pip install -r requirements.txt
   python src/main.py
   ```

2. 使用打包版本
   - 下载最新的release版本
   - 直接运行PackageManager.exe

## 注意事项

1. 首次运行时会在用户目录下创建配置文件
2. 建议使用管理员权限运行以确保所有功能正常
3. 如遇到问题，请查看日志文件（位于程序数据目录的logs文件夹）

## 反馈与支持

如有问题或建议，请提交Issue或Pull Request。

## 项目结构

```
refactored_project/
├── src/
│   ├── ui/           # UI相关代码
│   ├── core/         # 核心业务逻辑
│   ├── utils/        # 工具函数
│   └── config/       # 配置文件
├── tests/            # 测试代码
├── docs/             # 文档
├── resources/        # 资源文件
├── venv/            # 项目开发虚拟环境（包含项目依赖）
└── envs/            # 用户创建的Python环境存储目录
```

### 目录说明

- `src/`: 源代码目录
- `venv/`: 项目开发环境，包含所有项目依赖包
- `envs/`: 用户通过软件创建的Python虚拟环境存储位置
- `config/`: 配置文件目录
- `tests/`: 测试代码目录
- `docs/`: 项目文档
- `resources/`: 资源文件目录

## 开发说明

- 使用 `black` 进行代码格式化
- 使用 `flake8` 进行代码检查
- 使用 `mypy` 进行类型检查
- 使用 `pytest` 进行单元测试

## 常见问题

1. 程序无法启动
   - 确保安装最新版本的Visual C++ Redistributable
   - 检查杀毒软件是否拦截
   - 尝试以管理员身份运行

2. 代理设置问题
   - 确保代理服务器地址正确
   - 检查代理服务器是否在线
   - 使用测试功能验证代理连接

3. 环境创建失败
   - 检查Python安装路径
   - 确保有足够的磁盘空间
   - 查看日志获取详细错误信息

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License 